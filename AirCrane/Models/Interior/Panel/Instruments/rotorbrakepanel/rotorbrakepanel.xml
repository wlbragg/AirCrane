<?xml version="1.0" encoding="ISO-8859-1"?>

<PropertyList>

  <path>rotorbrakepanel.ac</path>
  <texture-path>../../../../../Models</texture-path>

  <!-- ALS Interior Shadows -->
  <effect>
    <inherits-from>Models/Effects/interior/cockpit-interior-shadows</inherits-from>
    <object-name>switchrotorbrake</object-name>
    <object-name>rotorbrakeoff</object-name>
    <object-name>panel</object-name>
    <object-name>base</object-name>
    <object-name>indicatebase</object-name>
    <object-name>rotorbrakeon</object-name>
  </effect>

    <animation>
      <type>select</type>
      <object-name>rotorbrakeon</object-name>
      <condition>
        <equals>
          <property>systems/electrical/outputs/rotorbrake</property>
          <value>-1</value>
        </equals>
      </condition>
    </animation>
    <animation>
      <type>select</type>
      <object-name>rotorbrakeoff</object-name>
      <condition>
        <greater-than>
          <property>systems/electrical/outputs/rotorbrake</property>
          <value>-1</value>
        </greater-than>
      </condition>
    </animation>
    <animation>
        <type>material</type>
        <object-name>redonl</object-name>
        <emission>
            <red>  0.7</red>
            <green>0.5</green>
            <blue> 0.5</blue>
            <factor-prop>systems/electrical/outputs/rotorbrake</factor-prop>
        </emission>
    </animation>

    <animation>
      <type>knob</type>
      <object-name>switchrotorbrake</object-name>
      <property>systems/electrical/outputs/rotorbrake</property>
      <factor>30</factor>
      <axis>
        <x>0.0</x>
        <y>1.0</y>
        <z>0.0</z>
      </axis>
      <center>
        <x-m>-8.83733</x-m>
        <y-m> 0.06459</y-m>
        <z-m>-1.81179</z-m>
      </center>
      <action>
        <repeatable>false</repeatable>
        <binding>
            <command>property-adjust</command>
            <property>systems/electrical/outputs/rotorbrake</property>
            <factor>1</factor>
            <min>-1</min>
            <max> 1</max>
            <wrap>0</wrap>
        </binding>
        <binding>
            <command>nasal</command>
            <script>
                var brake = getprop("systems/electrical/outputs/rotorbrake");
                var pressure = getprop("controls/rotorbrake/rotorbrake");
                if(brake == -1) {
                    setprop("controls/rotor/brake", pressure * .1);
                }
                if(brake == 1) {
                    setprop("controls/rotorbrake/rotorbrake", 0);
                }
                aircrane.click("avionics");
            </script>
        </binding>
      </action>
      <hovered>
        <binding>
            <command>set-tooltip</command>
            <tooltip-id>rotorbrake</tooltip-id>
            <label>Rotor Brake: %s</label>
            <property>systems/electrical/outputs/rotorbrake</property>
        </binding>
      </hovered>
    </animation>

</PropertyList>
